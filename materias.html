<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="stylesheet" href="materias.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Materias Semestre 1</title>
    <script src="util.js"></script>
</head>
<header>
    <div class="logo-container">
        <!-- Agrega tu logo aquí -->
        <a href="inicio-estudiante.html">
            <img src="Logo-universidad-ecotec.png" alt="Logo" class="logo">
        </a>
    </div>
    
    <div class="user-info">
        <span>MARIA</span>
        <br>
        <span>Estudiante Grado</span>
        <div class="small-image-container">
            <img src="cerebro.png" alt="Imagen pequeña" class="small-image">
        </div>
    </div>
</header>
<body>
    <div class="container">
        <div class="course" id="course1">
            <h2>Materia: DERECHO DEL TRABAJO</h2>
            <p>Campus: Tanca Marengo</p>
            <p>Curso: C-204</p>
            <p>Horario:lunes y miercoles de 18:05 PM a 19:45 PM</p>
            <button class="button" onclick="registerCourse('course1', 'DERECHO DEL TRABAJO', 'Tanca Marengo', 'C-204', 'lunes y miercoles de 18:05 PM a 19:45 PM')">Cursando</button>
        </div>
        <div class="course" id="course2">
            <h2>Materia: DERECHO DE CONTRATOS II</h2>
            <p>Campus: Tanca Marengo</p>
            <p>Curso: C-304</p>
            <p>Horario: lunes y miercoles de 21:30 PM a 22:30 PM</p>
            <button class="button" onclick="registerCourse('course2', 'DERECHO DE CONTRATOS II', 'Tanca Marengo', 'C-304', 'lunes y miercoles de 21:30 PM a 22:30 PM')">Cursando</button>
        </div>
        <div class="course" id="course3">
            <h2>Materia: DERECHO CIVIL SUCESIONES</h2>
            <p>Campus: Samborondom</p>
            <p>Curso: C-310</p>
            <p>Horario: Martes y jueves de 18:05 PM a 19:45 PM</p>
            <button class="button" onclick="registerCourse('course3', 'DERECHO CIVIL SUCESIONES', 'Samborondom', 'C-310', 'Martes y jueves de 18:05 PM a 19:45 PM')">Cursando</button>
        </div>
        
        <div class="course" id="course4">
            <h2>Materia:DERECHO TRIBUTARIO</h2>
            <p>Campus: Samborondom</p>
            <p>Curso: D-310</p>
            <p>Horario: Viernes de 18:05 PM a 21:30 PM</p>
            <button class="button" onclick="registerCourse('course4', 'DERECHO TRIBUTARIO', 'Samborondom', 'D-310', 'Viernes de 18:05 PM a 21:30 PM')">Cursando</button>
        </div>  

        <div class="course" id="course4">
            <h2>Materia:Decisiones basadas en datos de I.A</h2>
            <p>Campus: Samborondom</p>
            <p>Curso: D-310</p>
            <p>Horario: martes a jueves en sambo de 20:00 PM  a 21:30 PM</p>
            <button class="button" onclick="registerCourse('course4', 'Decisiones basadas en datos de I.A', 'Samborondom', 'D-310', 'martes a jueves en sambo de 20:00 PM  a 21:30 PM')">Cursando</button>
        </div> 
    </div>

    <script>
        function registerCourse(courseId, courseName, campus, courseCode, schedule) {
            var courses = JSON.parse(localStorage.getItem('registeredCourses')) || [];
            
            if (courses.length >= 7) {
                alert('Ya has registrado el máximo de materias permitidas.');
                return;
            }
            
            var alreadyRegistered = courses.some(course => course.id === courseId);
            if (alreadyRegistered) {
                alert('Esta materia ya ha sido registrada.');
                return;
            }

            var courseDetails = {
                id: courseId,
                name: courseName,
                campus: campus,
                courseCode: courseCode,
                schedule: schedule
            };
            
            var course = document.getElementById(courseId);
            course.classList.add('hidden');
            
            courses.push(courseDetails);
            localStorage.setItem('registeredCourses', JSON.stringify(courses));
            console.log('Materia registrada:', courseDetails);
            console.log('Materias registradas:', courses);
            alert('Registro de materia exitosamente');
            updateRecentCourses(); // Llama a la función para actualizar las materias recientes en "Inicio Estudiante"
        }
    </script>
</body>
</html>
